#!/usr/bin/env bash
#MISE description="Run bats e2e smoke tests"
set -euo pipefail

# Build binary first
mise run build

echo "ğŸ§ª Running OpenNotes E2E Smoke Tests..."

# Run tests in isolation to avoid parent mise configs
(
  cd tests/e2e
  echo "ğŸ“‹ Core functionality tests:"
  bats core-smoke.bats
  
  echo ""
  echo "ğŸ“ Detailed functionality tests:"  
  bats smoke.bats
)

echo ""
echo "âœ… All E2E smoke tests completed!"